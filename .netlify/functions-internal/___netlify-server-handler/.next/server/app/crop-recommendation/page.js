(()=>{var e={};e.id=943,e.ids=[943],e.modules={643:e=>{"use strict";e.exports=require("node:perf_hooks")},1708:e=>{"use strict";e.exports=require("node:process")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4573:e=>{"use strict";e.exports=require("node:buffer")},6211:(e,t,a)=>{"use strict";a.d(t,{A0:()=>n,BF:()=>o,Hj:()=>d,XI:()=>i,nA:()=>u,nd:()=>c});var r=a(60687),s=a(43210),l=a(4780);let i=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:a,className:(0,l.cn)("w-full caption-bottom text-sm",e),...t})}));i.displayName="Table";let n=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)("thead",{ref:a,className:(0,l.cn)("[&_tr]:border-b",e),...t}));n.displayName="TableHeader";let o=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)("tbody",{ref:a,className:(0,l.cn)("[&_tr:last-child]:border-0",e),...t}));o.displayName="TableBody",s.forwardRef(({className:e,...t},a)=>(0,r.jsx)("tfoot",{ref:a,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let d=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)("tr",{ref:a,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));d.displayName="TableRow";let c=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)("th",{ref:a,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));c.displayName="TableHead";let u=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)("td",{ref:a,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));u.displayName="TableCell",s.forwardRef(({className:e,...t},a)=>(0,r.jsx)("caption",{ref:a,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption"},7252:e=>{"use strict";e.exports=require("express")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},14985:e=>{"use strict";e.exports=require("dns")},16141:e=>{"use strict";e.exports=require("node:zlib")},16698:e=>{"use strict";e.exports=require("node:async_hooks")},19063:e=>{"use strict";e.exports=require("require-in-the-middle")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19185:e=>{"use strict";e.exports=require("dgram")},19671:(e,t,a)=>{Promise.resolve().then(a.bind(a,93723))},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},25607:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(82614).A)("TestTubeDiagonal",[["path",{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01a2.83 2.83 0 0 1 0-4L17 3",key:"1ub6xw"}],["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"M12 16H4",key:"1cjfip"}]])},26398:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(82614).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29844:(e,t,a)=>{"use strict";a.d(t,{tU:()=>R,av:()=>D,j7:()=>z,Xi:()=>T});var r=a(60687),s=a(43210),l=a(70569),i=a(11273),n=a(72942),o=a(46059),d=a(3416),c=a(43),u=a(65551),m=a(96963),p="Tabs",[h,x]=(0,i.A)(p,[n.RG]),f=(0,n.RG)(),[g,j]=h(p),b=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:s,onValueChange:l,defaultValue:i,orientation:n="horizontal",dir:o,activationMode:p="automatic",...h}=e,x=(0,c.jH)(o),[f,j]=(0,u.i)({prop:s,onChange:l,defaultProp:i});return(0,r.jsx)(g,{scope:a,baseId:(0,m.B)(),value:f,onValueChange:j,orientation:n,dir:x,activationMode:p,children:(0,r.jsx)(d.sG.div,{dir:x,"data-orientation":n,...h,ref:t})})});b.displayName=p;var y="TabsList",v=s.forwardRef((e,t)=>{let{__scopeTabs:a,loop:s=!0,...l}=e,i=j(y,a),o=f(a);return(0,r.jsx)(n.bL,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:(0,r.jsx)(d.sG.div,{role:"tablist","aria-orientation":i.orientation,...l,ref:t})})});v.displayName=y;var N="TabsTrigger",w=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:s,disabled:i=!1,...o}=e,c=j(N,a),u=f(a),m=M(c.baseId,s),p=P(c.baseId,s),h=s===c.value;return(0,r.jsx)(n.q7,{asChild:!0,...u,focusable:!i,active:h,children:(0,r.jsx)(d.sG.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":p,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:m,...o,ref:t,onMouseDown:(0,l.m)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(s)}),onKeyDown:(0,l.m)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(s)}),onFocus:(0,l.m)(e.onFocus,()=>{let e="manual"!==c.activationMode;h||i||!e||c.onValueChange(s)})})})});w.displayName=N;var C="TabsContent",k=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:l,forceMount:i,children:n,...c}=e,u=j(C,a),m=M(u.baseId,l),p=P(u.baseId,l),h=l===u.value,x=s.useRef(h);return s.useEffect(()=>{let e=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,r.jsx)(o.C,{present:i||h,children:({present:a})=>(0,r.jsx)(d.sG.div,{"data-state":h?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":m,hidden:!a,id:p,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:x.current?"0s":void 0},children:a&&n})})});function M(e,t){return`${e}-trigger-${t}`}function P(e,t){return`${e}-content-${t}`}k.displayName=C;var S=a(4780);let R=b,z=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)(v,{ref:a,className:(0,S.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));z.displayName=v.displayName;let T=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)(w,{ref:a,className:(0,S.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));T.displayName=w.displayName;let D=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)(k,{ref:a,className:(0,S.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));D.displayName=k.displayName},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37067:e=>{"use strict";e.exports=require("node:http")},37830:e=>{"use strict";e.exports=require("node:stream/web")},38917:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\balac\\\\OneDrive\\\\Desktop\\\\Crop Navi\\\\src\\\\app\\\\crop-recommendation\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\balac\\OneDrive\\Desktop\\Crop Navi\\src\\app\\crop-recommendation\\page.tsx","default")},41968:(e,t)=>{"use strict";function a(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"encodeURIPath",{enumerable:!0,get:function(){return a}})},44708:e=>{"use strict";e.exports=require("node:https")},49587:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let r=a(37366)._(a(64963));function s(e,t){var a;let s={};"function"==typeof e&&(s.loader=e);let l={...s,...t};return(0,r.default)({...l,modules:null==(a=l.loadableGenerated)?void 0:a.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},53739:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var r=a(65239),s=a(48088),l=a(88170),i=a.n(l),n=a(30893),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);a.d(t,o);let d={children:["",{children:["crop-recommendation",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,38917)),"C:\\Users\\balac\\OneDrive\\Desktop\\Crop Navi\\src\\app\\crop-recommendation\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,94431)),"C:\\Users\\balac\\OneDrive\\Desktop\\Crop Navi\\src\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(a.bind(a,67393)),"C:\\Users\\balac\\OneDrive\\Desktop\\Crop Navi\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\balac\\OneDrive\\Desktop\\Crop Navi\\src\\app\\crop-recommendation\\page.tsx"],u={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/crop-recommendation/page",pathname:"/crop-recommendation",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},54379:e=>{"use strict";e.exports=require("node:path")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},56780:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return s}});let r=a(81208);function s(e){let{reason:t,children:a}=e;throw Object.defineProperty(new r.BailoutToCSRError(t),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}},56801:e=>{"use strict";e.exports=require("import-in-the-middle")},57075:e=>{"use strict";e.exports=require("node:stream")},57975:e=>{"use strict";e.exports=require("node:util")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64777:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return n}});let r=a(60687),s=a(51215),l=a(29294),i=a(41968);function n(e){let{moduleIds:t}=e,a=l.workAsyncStorage.getStore();if(void 0===a)return null;let n=[];if(a.reactLoadableManifest&&t){let e=a.reactLoadableManifest;for(let a of t){if(!e[a])continue;let t=e[a].files;n.push(...t)}}return 0===n.length?null:(0,r.jsx)(r.Fragment,{children:n.map(e=>{let t=a.assetPrefix+"/_next/"+(0,i.encodeURIPath)(e);return e.endsWith(".css")?(0,r.jsx)("link",{precedence:"dynamic",href:t,rel:"stylesheet",as:"style"},e):((0,s.preload)(t,{as:"script",fetchPriority:"low"}),null)})})}},64963:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return d}});let r=a(60687),s=a(43210),l=a(56780),i=a(64777);function n(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(n(()=>null)),loading:null,ssr:!0},d=function(e){let t={...o,...e},a=(0,s.lazy)(()=>t.loader().then(n)),d=t.loading;function c(e){let n=d?(0,r.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,o=!t.ssr||!!t.loading,c=o?s.Suspense:s.Fragment,u=t.ssr?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.PreloadChunks,{moduleIds:t.modules}),(0,r.jsx)(a,{...e})]}):(0,r.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(a,{...e})});return(0,r.jsx)(c,{...o?{fallback:n}:{},children:u})}return c.displayName="LoadableComponent",c}},70440:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var r=a(31658);let s=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},71669:(e,t,a)=>{"use strict";a.d(t,{C5:()=>j,MJ:()=>f,Rr:()=>g,eI:()=>h,lR:()=>x,lV:()=>d,zB:()=>u});var r=a(60687),s=a(43210),l=a(11329),i=a(27605),n=a(4780),o=a(80013);let d=i.Op,c=s.createContext({}),u=({...e})=>(0,r.jsx)(c.Provider,{value:{name:e.name},children:(0,r.jsx)(i.xI,{...e})}),m=()=>{let e=s.useContext(c),t=s.useContext(p),{getFieldState:a,formState:r}=(0,i.xW)(),l=a(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=t;return{id:n,name:e.name,formItemId:`${n}-form-item`,formDescriptionId:`${n}-form-item-description`,formMessageId:`${n}-form-item-message`,...l}},p=s.createContext({}),h=s.forwardRef(({className:e,...t},a)=>{let l=s.useId();return(0,r.jsx)(p.Provider,{value:{id:l},children:(0,r.jsx)("div",{ref:a,className:(0,n.cn)("space-y-2",e),...t})})});h.displayName="FormItem";let x=s.forwardRef(({className:e,...t},a)=>{let{error:s,formItemId:l}=m();return(0,r.jsx)(o.J,{ref:a,className:(0,n.cn)(s&&"text-destructive",e),htmlFor:l,...t})});x.displayName="FormLabel";let f=s.forwardRef(({...e},t)=>{let{error:a,formItemId:s,formDescriptionId:i,formMessageId:n}=m();return(0,r.jsx)(l.DX,{ref:t,id:s,"aria-describedby":a?`${i} ${n}`:`${i}`,"aria-invalid":!!a,...e})});f.displayName="FormControl";let g=s.forwardRef(({className:e,...t},a)=>{let{formDescriptionId:s}=m();return(0,r.jsx)("p",{ref:a,id:s,className:(0,n.cn)("text-sm text-muted-foreground",e),...t})});g.displayName="FormDescription";let j=s.forwardRef(({className:e,children:t,...a},s)=>{let{error:l,formMessageId:i}=m(),o=l?String(l?.message??""):t;return o?(0,r.jsx)("p",{ref:s,id:i,className:(0,n.cn)("text-sm font-medium text-destructive",e),...a,children:o}):null});j.displayName="FormMessage"},73024:e=>{"use strict";e.exports=require("node:fs")},73093:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(82614).A)("Tractor",[["path",{d:"m10 11 11 .9a1 1 0 0 1 .8 1.1l-.665 4.158a1 1 0 0 1-.988.842H20",key:"she1j9"}],["path",{d:"M16 18h-5",key:"bq60fd"}],["path",{d:"M18 5a1 1 0 0 0-1 1v5.573",key:"1kv8ia"}],["path",{d:"M3 4h8.129a1 1 0 0 1 .99.863L13 11.246",key:"1q1ert"}],["path",{d:"M4 11V4",key:"9ft8pt"}],["path",{d:"M7 15h.01",key:"k5ht0j"}],["path",{d:"M8 10.1V4",key:"1jgyzo"}],["circle",{cx:"18",cy:"18",r:"2",key:"1emm8v"}],["circle",{cx:"7",cy:"15",r:"5",key:"ddtuc"}]])},73136:e=>{"use strict";e.exports=require("node:url")},73496:e=>{"use strict";e.exports=require("http2")},73566:e=>{"use strict";e.exports=require("worker_threads")},74075:e=>{"use strict";e.exports=require("zlib")},74998:e=>{"use strict";e.exports=require("perf_hooks")},77030:e=>{"use strict";e.exports=require("node:net")},77598:e=>{"use strict";e.exports=require("node:crypto")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},79748:e=>{"use strict";e.exports=require("fs/promises")},80013:(e,t,a)=>{"use strict";a.d(t,{J:()=>d});var r=a(60687),s=a(43210),l=a(78148),i=a(24224),n=a(4780);let o=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)(l.b,{ref:a,className:(0,n.cn)(o(),e),...t}));d.displayName=l.b.displayName},80068:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(82614).A)("CloudSun",[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]])},81630:e=>{"use strict";e.exports=require("http")},82719:(e,t,a)=>{Promise.resolve().then(a.bind(a,38917))},84297:e=>{"use strict";e.exports=require("async_hooks")},91645:e=>{"use strict";e.exports=require("net")},93723:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ea});var r=a(60687),s=a(43210),l=a(27605),i=a(63442),n=a(45880),o=a(6475);let d=(0,o.createServerReference)("40a7adf25781fd6c163d521ea784b9ad3b999c4b4b",o.callServer,void 0,o.findSourceMapURL,"aiCropRecommendationFromPrompt");var c=a(37123),u=a(49587),m=a.n(u),p=a(29523),h=a(71669),x=a(15079),f=a(44493),g=a(10991),j=a(78726),b=a(4780);let y=g.bL;g.l9;let v=g.ZL,N=g.bm,w=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)(g.hJ,{ref:a,className:(0,b.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));w.displayName=g.hJ.displayName;let C=s.forwardRef(({className:e,children:t,...a},s)=>(0,r.jsxs)(v,{children:[(0,r.jsx)(w,{}),(0,r.jsxs)(g.UC,{ref:s,className:(0,b.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[t,(0,r.jsxs)(g.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(j.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));C.displayName=g.UC.displayName;let k=({className:e,...t})=>(0,r.jsx)("div",{className:(0,b.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});k.displayName="DialogHeader";let M=({className:e,...t})=>(0,r.jsx)("div",{className:(0,b.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});M.displayName="DialogFooter";let P=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)(g.hE,{ref:a,className:(0,b.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));P.displayName=g.hE.displayName;let S=s.forwardRef(({className:e,...t},a)=>(0,r.jsx)(g.VY,{ref:a,className:(0,b.cn)("text-sm text-muted-foreground",e),...t}));S.displayName=g.VY.displayName;var R=a(11516),z=a(82614);let T=(0,z.A)("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),D=(0,z.A)("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);var q=a(26398),A=a(73093),L=a(70653),B=a(80068),I=a(25607);let F=(0,z.A)("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);var _=a(29867),V=a(42692),K=a(85814),O=a.n(K),G=a(89667),$=a(29844),H=a(6211);let E={bdod:"Bulk Density",cec:"Cation Exchange Capacity",clay:"Clay Content",nitrogen:"Nitrogen",phh2o:"pH (Water)",sand:"Sand Content",silt:"Silt Content",soc:"Soil Organic Carbon"},U=e=>{switch(e){case"phh2o":return"pH";case"bdod":return"g/cm\xb3";case"cec":return"cmol/kg";case"soc":case"nitrogen":case"clay":case"sand":case"silt":return"g/kg";default:return""}};function J({soilData:e}){if(!e)return(0,r.jsx)("p",{className:"p-4 text-center",children:"No soil data available."});let t=(e,t)=>{let a;if(null==t)return"N/A";switch(e){case"phh2o":case"cec":case"soc":case"clay":case"sand":case"silt":a=t/10;break;case"bdod":case"nitrogen":a=t/100;break;default:a=t}return a.toFixed(2)};return(0,r.jsxs)(H.XI,{children:[(0,r.jsx)(H.A0,{children:(0,r.jsxs)(H.Hj,{children:[(0,r.jsx)(H.nd,{className:"font-bold",children:"Soil Property"}),(0,r.jsx)(H.nd,{className:"font-bold text-right",children:"Value (0-5cm)"}),(0,r.jsx)(H.nd,{className:"font-bold text-right",children:"Value (5-15cm)"}),(0,r.jsx)(H.nd,{className:"font-bold text-right",children:"Unit"})]})}),(0,r.jsx)(H.BF,{children:e.map(e=>(0,r.jsxs)(H.Hj,{children:[(0,r.jsx)(H.nA,{className:"font-medium",children:E[e.name]||e.name}),(0,r.jsx)(H.nA,{className:"text-right",children:t(e.name,e.depths[0]?.values?.mean)}),(0,r.jsx)(H.nA,{className:"text-right",children:t(e.name,e.depths[1]?.values?.mean)}),(0,r.jsx)(H.nA,{className:"text-right text-muted-foreground",children:U(e.name)})]},e.name))})]})}let Y=m()(async()=>{},{loadableGenerated:{modules:["app\\crop-recommendation\\page.tsx -> ./interactive-map"]},ssr:!1,loading:()=>(0,r.jsx)("div",{className:"h-full w-full flex items-center justify-center bg-muted",children:(0,r.jsx)(R.A,{className:"animate-spin"})})}),W=n.z.object({latitude:n.z.coerce.number().min(-90).max(90).optional(),longitude:n.z.coerce.number().min(-180).max(180).optional(),rainfall:n.z.string().min(1,"Please select the annual rainfall."),soilType:n.z.string().min(1,"Please select the primary soil type."),primaryGoal:n.z.string().min(1,"Please select your primary farming goal."),riskTolerance:n.z.string().min(1,"Please select your risk tolerance."),fieldSize:n.z.coerce.number().min(0,"Field size must be a positive number."),totalBudget:n.z.coerce.number().min(0,"Budget must be non-negative").optional(),recentCrop:n.z.string().min(1,"Please select the most recent crop."),recentCropYear:n.z.string().min(1,"Please select the year."),fertilizer:n.z.string().min(1,"Please select your fertilizer preference."),irrigation:n.z.string().min(1,"Please select your irrigation method.")}),X=["Wheat","Paddy","Maize","Mustard","Arhar (Tur)","Bajra","Barley","Black Pepper","Cardamom","Cashew Nuts","Castor Seed","Coconut","Coffee","Coriander","Cotton","Finger Millet (Ragi)","Gram (Chana)","Groundnut","Guar Seed","Horse-gram","Jowar (Sorghum)","Jute","Korra","Lentil (Masur)","Linseed","Mahua","Masur","Moong (Green Gram)","Niger Seed","Onion","Other Pulses","Potato","Ragi","Rapeseed & Mustard","Rice","Rubber","Safflower","Sannhamp","Sesamum","Soyabean","Sugarcane","Sunflower","Tamarind","Tea","Tobacco","Turmeric","Urad","Varagu"],Z={title:"AI Crop Recommendation",description:"Enter coordinates manually or use your GPS to fetch soil data. Then, describe your farm, and our AI will suggest the best crops for you.",locationLabel:"1. Location for Soil Analysis",latitudePlaceholder:"Latitude (e.g., 23.610)",longitudePlaceholder:"Longitude (e.g., 85.279)",fetchCoordsButton:"Fetch Data for Coordinates",detectLocationButton:"Detect My Location & Fetch Data",locationDescription:"The AI will use fetched soil and weather data for recommendations.",farmDetailsLabel:"2. Farm & Climate Details",annualRainfallLabel:"Annual Rainfall",soilTypeLabel:"Primary Soil Type",primaryGoalLabel:"Primary Goal",riskToleranceLabel:"Risk Tolerance",fieldSizeLabel:"Field Size (acres)",fieldSizePlaceholder:"e.g., 5",totalBudgetLabel:"Total Budget (₹)",totalBudgetPlaceholder:"e.g., 50000",fertilizerPrefLabel:"Fertilizer Preference",irrigationMethodLabel:"Irrigation Method",cropHistoryLabel:"Crop History",recentCropLabel:"Most Recent Crop",harvestYearLabel:"Harvest Year",cropHistoryDescription:"What was the most recent crop grown on this field?",recommendButton:"Recommend Crops",resultTitle:"AI-Powered Recommendations",resultDescription:"Based on your input, here are our top suggestions.",soilDialogTitle:"SoilGrids Data Preview",soilDialogDescription:"This is the scientific soil data fetched from SoilGrids.org for your location. Review the data and visual maps. Click 'Use This Data' when done.",tableTab:"Table Data",mapsTab:"Interactive Map",rawTab:"Raw Data",googleMapsButton:"View on Google Maps",useDataButton:"Use This Data",cancelButton:"Cancel",placeholderDescription:"Our AI is analyzing your farm data...",recommendedCropsLabel:"Recommended Crops",reasoningLabel:"Reasoning",placeholderTitle:"Your Recommendations Await",dataSummaryTitle:"Soil & Weather Summary"},Q=[{name:"bdod",depths:[{label:"0-5cm",values:{mean:136}},{label:"5-15cm",values:{mean:142}}]},{name:"cec",depths:[{label:"0-5cm",values:{mean:182}},{label:"5-15cm",values:{mean:195}}]},{name:"clay",depths:[{label:"0-5cm",values:{mean:225}},{label:"5-15cm",values:{mean:240}}]},{name:"nitrogen",depths:[{label:"0-5cm",values:{mean:115}},{label:"5-15cm",values:{mean:105}}]},{name:"phh2o",depths:[{label:"0-5cm",values:{mean:68}},{label:"5-15cm",values:{mean:69}}]},{name:"sand",depths:[{label:"0-5cm",values:{mean:450}},{label:"5-15cm",values:{mean:430}}]},{name:"silt",depths:[{label:"0-5cm",values:{mean:325}},{label:"5-15cm",values:{mean:330}}]},{name:"soc",depths:[{label:"0-5cm",values:{mean:125}},{label:"5-15cm",values:{mean:110}}]}],ee=new Date().getFullYear(),et=Array.from({length:5},(e,t)=>(ee-t).toString());function ea(){let[e,t]=(0,s.useState)(null),[a,n]=(0,s.useState)(!1),[o,u]=(0,s.useState)(!1),[m,g]=(0,s.useState)(!1),[j,b]=(0,s.useState)(null),{toast:v}=(0,_.dj)(),{translatedText:w,T:z,isTranslating:K}=(0,c.Bd)(Z),[H,E]=(0,s.useState)([{lat:23.35,lng:85.32,name:"Sample Farm A"},{lat:23.33,lng:85.3,name:"Sample Farm B"},{lat:23.34,lng:85.29,name:"Local Market"}]),[U,ee]=(0,s.useState)(!1),ea=(0,l.mN)({resolver:(0,i.u)(W)}),er=ea.watch("latitude"),es=ea.watch("longitude");async function el(e){n(!0),t(null);try{let a=`My farm's annual rainfall is ${e.rainfall}. The soil type is primarily ${e.soilType}. My primary goal for farming is ${e.primaryGoal}. I have a ${e.riskTolerance} tolerance for risk. My field size is ${e.fieldSize} acres. I prefer to use ${e.fertilizer} fertilizer. My irrigation method is ${e.irrigation}. The most recent crop I harvested was ${e.recentCrop} in the year ${e.recentCropYear}.`;e.latitude&&e.longitude&&(a+=` My farm is located at latitude ${e.latitude} and longitude ${e.longitude}.`),e.totalBudget&&(a+=` My total budget is ₹${e.totalBudget}.`);let r=await d({prompt:a});t(r)}catch(e){console.error("Error getting crop recommendation:",e),v({title:"Error",description:"Failed to get crop recommendation. Please try again.",variant:"destructive"})}finally{n(!1)}}let ei=(0,s.useCallback)(async(e,t)=>{u(!0),b(Q),g(!0),ea.setValue("latitude",e,{shouldValidate:!0}),ea.setValue("longitude",t,{shouldValidate:!0}),v({title:"Using Sample Soil Data",description:'Review the sample soil data and click "Use This Data" to continue.'}),u(!1)},[ea,v]),en=(0,s.useCallback)(()=>{let e=ea.getValues("latitude"),t=ea.getValues("longitude");void 0!==e&&void 0!==t?ei(e,t):v({title:"Missing Coordinates",description:"Please enter both latitude and longitude.",variant:"destructive"})},[ea,v,ei]),eo=(0,s.useCallback)(()=>{if(u(!0),!navigator.geolocation){v({title:"Geolocation not supported",description:"Your browser does not support geolocation.",variant:"destructive"}),u(!1);return}navigator.geolocation.getCurrentPosition(e=>{let{latitude:t,longitude:a}=e.coords;ei(t,a)},e=>{console.error("Error fetching location:",e),v({title:"Location Error",description:"Could not fetch your location. Please ensure you have granted permission.",variant:"destructive"}),u(!1)})},[v,ei]);return U?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[(0,r.jsxs)(f.Zp,{children:[(0,r.jsxs)(f.aR,{children:[(0,r.jsxs)(f.ZB,{className:"font-headline flex items-center gap-2",children:[(0,r.jsx)(T,{className:"text-primary"}),(0,r.jsx)(z,{textKey:"title"})]}),(0,r.jsx)(f.BT,{children:(0,r.jsx)(z,{textKey:"description"})})]}),(0,r.jsx)(f.Wu,{children:(0,r.jsx)(h.lV,{...ea,children:(0,r.jsxs)("form",{onSubmit:ea.handleSubmit(el),className:"space-y-8",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(h.lR,{className:"font-headline text-lg",children:(0,r.jsx)(z,{textKey:"locationLabel"})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,r.jsx)(h.zB,{control:ea.control,name:"latitude",render:({field:e})=>(0,r.jsxs)(h.eI,{children:[(0,r.jsx)(h.MJ,{children:(0,r.jsx)(G.p,{type:"number",step:"any",placeholder:w.latitudePlaceholder,...e,value:e.value??""})}),(0,r.jsx)(h.C5,{})]})}),(0,r.jsx)(h.zB,{control:ea.control,name:"longitude",render:({field:e})=>(0,r.jsxs)(h.eI,{children:[(0,r.jsx)(h.MJ,{children:(0,r.jsx)(G.p,{type:"number",step:"any",placeholder:w.longitudePlaceholder,...e,value:e.value??""})}),(0,r.jsx)(h.C5,{})]})})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,r.jsxs)(p.$,{type:"button",variant:"outline",size:"sm",onClick:en,disabled:o||K,children:[o&&void 0!==er?(0,r.jsx)(R.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,r.jsx)(D,{className:"mr-2 h-4 w-4"}),(0,r.jsx)(z,{textKey:"fetchCoordsButton"})]}),(0,r.jsxs)(p.$,{type:"button",variant:"outline",size:"sm",onClick:eo,disabled:o||K,children:[o&&void 0===er?(0,r.jsx)(R.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,r.jsx)(q.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)(z,{textKey:"detectLocationButton"})]})]}),(0,r.jsx)(h.Rr,{children:(0,r.jsx)(z,{textKey:"locationDescription"})})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("h3",{className:"font-headline text-lg flex items-center gap-2",children:[(0,r.jsx)(A.A,{className:"text-primary/80"}),(0,r.jsx)(z,{textKey:"farmDetailsLabel"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)(h.zB,{control:ea.control,name:"rainfall",render:({field:e})=>(0,r.jsxs)(h.eI,{children:[(0,r.jsx)(h.lR,{children:(0,r.jsx)(z,{textKey:"annualRainfallLabel"})}),(0,r.jsxs)(x.l6,{onValueChange:e.onChange,defaultValue:e.value,disabled:K,children:[(0,r.jsx)(h.MJ,{children:(0,r.jsx)(x.bq,{children:(0,r.jsx)(x.yv,{placeholder:"Select..."})})}),(0,r.jsxs)(x.gC,{children:[(0,r.jsx)(x.eb,{value:"<500mm",children:"Low (<500mm)"}),(0,r.jsx)(x.eb,{value:"500-1000mm",children:"Medium (500-1000mm)"}),(0,r.jsx)(x.eb,{value:">1000mm",children:"High (>1000mm)"})]})]}),(0,r.jsx)(h.C5,{})]})}),(0,r.jsx)(h.zB,{control:ea.control,name:"soilType",render:({field:e})=>(0,r.jsxs)(h.eI,{children:[(0,r.jsx)(h.lR,{children:(0,r.jsx)(z,{textKey:"soilTypeLabel"})}),(0,r.jsxs)(x.l6,{onValueChange:e.onChange,defaultValue:e.value,disabled:K,children:[(0,r.jsx)(h.MJ,{children:(0,r.jsx)(x.bq,{children:(0,r.jsx)(x.yv,{placeholder:"Select..."})})}),(0,r.jsxs)(x.gC,{children:[(0,r.jsx)(x.eb,{value:"sandy",children:"Sandy"}),(0,r.jsx)(x.eb,{value:"clay",children:"Clay"}),(0,r.jsx)(x.eb,{value:"loam",children:"Loam"}),(0,r.jsx)(x.eb,{value:"silty",children:"Silty"}),(0,r.jsx)(x.eb,{value:"peaty",children:"Peaty"})]})]}),(0,r.jsx)(h.C5,{})]})}),(0,r.jsx)(h.zB,{control:ea.control,name:"primaryGoal",render:({field:e})=>(0,r.jsxs)(h.eI,{children:[(0,r.jsx)(h.lR,{children:(0,r.jsx)(z,{textKey:"primaryGoalLabel"})}),(0,r.jsxs)(x.l6,{onValueChange:e.onChange,defaultValue:e.value,disabled:K,children:[(0,r.jsx)(h.MJ,{children:(0,r.jsx)(x.bq,{children:(0,r.jsx)(x.yv,{placeholder:"Select..."})})}),(0,r.jsxs)(x.gC,{children:[(0,r.jsx)(x.eb,{value:"cash-crop",children:"Cash Crop / Profit"}),(0,r.jsx)(x.eb,{value:"personal-consumption",children:"Personal Consumption"}),(0,r.jsx)(x.eb,{value:"mixed",children:"Mixed Use"}),(0,r.jsx)(x.eb,{value:"soil-improvement",children:"Soil Improvement"})]})]}),(0,r.jsx)(h.C5,{})]})}),(0,r.jsx)(h.zB,{control:ea.control,name:"riskTolerance",render:({field:e})=>(0,r.jsxs)(h.eI,{children:[(0,r.jsx)(h.lR,{children:(0,r.jsx)(z,{textKey:"riskToleranceLabel"})}),(0,r.jsxs)(x.l6,{onValueChange:e.onChange,defaultValue:e.value,disabled:K,children:[(0,r.jsx)(h.MJ,{children:(0,r.jsx)(x.bq,{children:(0,r.jsx)(x.yv,{placeholder:"Select..."})})}),(0,r.jsxs)(x.gC,{children:[(0,r.jsx)(x.eb,{value:"low",children:"Low Risk"}),(0,r.jsx)(x.eb,{value:"medium",children:"Medium Risk"}),(0,r.jsx)(x.eb,{value:"high",children:"High Risk"})]})]}),(0,r.jsx)(h.C5,{})]})}),(0,r.jsx)(h.zB,{control:ea.control,name:"fieldSize",render:({field:e})=>(0,r.jsxs)(h.eI,{children:[(0,r.jsx)(h.lR,{children:(0,r.jsx)(z,{textKey:"fieldSizeLabel"})}),(0,r.jsx)(h.MJ,{children:(0,r.jsx)(G.p,{type:"number",placeholder:w.fieldSizePlaceholder,...e,value:e.value??""})}),(0,r.jsx)(h.C5,{})]})}),(0,r.jsx)(h.zB,{control:ea.control,name:"totalBudget",render:({field:e})=>(0,r.jsxs)(h.eI,{children:[(0,r.jsx)(h.lR,{children:(0,r.jsx)(z,{textKey:"totalBudgetLabel"})}),(0,r.jsx)(h.MJ,{children:(0,r.jsx)(G.p,{type:"number",placeholder:w.totalBudgetPlaceholder,...e,value:e.value??""})}),(0,r.jsx)(h.C5,{})]})}),(0,r.jsx)(h.zB,{control:ea.control,name:"fertilizer",render:({field:e})=>(0,r.jsxs)(h.eI,{children:[(0,r.jsx)(h.lR,{children:(0,r.jsx)(z,{textKey:"fertilizerPrefLabel"})}),(0,r.jsxs)(x.l6,{onValueChange:e.onChange,defaultValue:e.value,disabled:K,children:[(0,r.jsx)(h.MJ,{children:(0,r.jsx)(x.bq,{children:(0,r.jsx)(x.yv,{placeholder:"Select..."})})}),(0,r.jsxs)(x.gC,{children:[(0,r.jsx)(x.eb,{value:"organic",children:"Organic"}),(0,r.jsx)(x.eb,{value:"synthetic",children:"Synthetic"}),(0,r.jsx)(x.eb,{value:"mixed",children:"Mixed"})]})]}),(0,r.jsx)(h.C5,{})]})}),(0,r.jsx)(h.zB,{control:ea.control,name:"irrigation",render:({field:e})=>(0,r.jsxs)(h.eI,{children:[(0,r.jsx)(h.lR,{children:(0,r.jsx)(z,{textKey:"irrigationMethodLabel"})}),(0,r.jsxs)(x.l6,{onValueChange:e.onChange,defaultValue:e.value,disabled:K,children:[(0,r.jsx)(h.MJ,{children:(0,r.jsx)(x.bq,{children:(0,r.jsx)(x.yv,{placeholder:"Select..."})})}),(0,r.jsxs)(x.gC,{children:[(0,r.jsx)(x.eb,{value:"drip",children:"Drip"}),(0,r.jsx)(x.eb,{value:"sprinkler",children:"Sprinkler"}),(0,r.jsx)(x.eb,{value:"flood",children:"Flood"}),(0,r.jsx)(x.eb,{value:"rainfed",children:"Rain-fed"})]})]}),(0,r.jsx)(h.C5,{})]})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(h.lR,{children:(0,r.jsx)(z,{textKey:"cropHistoryLabel"})}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[(0,r.jsx)(h.zB,{control:ea.control,name:"recentCrop",render:({field:e})=>(0,r.jsxs)(h.eI,{children:[(0,r.jsx)(h.lR,{className:"text-xs text-muted-foreground",children:(0,r.jsx)(z,{textKey:"recentCropLabel"})}),(0,r.jsxs)(x.l6,{onValueChange:e.onChange,defaultValue:e.value,disabled:K,children:[(0,r.jsx)(h.MJ,{children:(0,r.jsx)(x.bq,{children:(0,r.jsx)(x.yv,{placeholder:"Select..."})})}),(0,r.jsx)(x.gC,{children:X.map(e=>(0,r.jsx)(x.eb,{value:e,children:e},e))})]}),(0,r.jsx)(h.C5,{})]})}),(0,r.jsx)(h.zB,{control:ea.control,name:"recentCropYear",render:({field:e})=>(0,r.jsxs)(h.eI,{children:[(0,r.jsx)(h.lR,{className:"text-xs text-muted-foreground",children:(0,r.jsx)(z,{textKey:"harvestYearLabel"})}),(0,r.jsxs)(x.l6,{onValueChange:e.onChange,value:e.value,disabled:K,children:[(0,r.jsx)(h.MJ,{children:(0,r.jsx)(x.bq,{children:(0,r.jsx)(x.yv,{placeholder:"Select..."})})}),(0,r.jsx)(x.gC,{children:et.map(e=>(0,r.jsx)(x.eb,{value:e,children:e},e))})]}),(0,r.jsx)(h.C5,{})]})})]}),(0,r.jsx)(h.Rr,{className:"mt-2",children:(0,r.jsx)(z,{textKey:"cropHistoryDescription"})})]})]}),(0,r.jsxs)(p.$,{type:"submit",disabled:a||K,className:"w-full",children:[a?(0,r.jsx)(R.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,r.jsx)(L.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)(z,{textKey:"recommendButton"})]})]})})})]}),(0,r.jsxs)("div",{className:"lg:sticky top-6",children:[a&&(0,r.jsx)(f.Zp,{children:(0,r.jsxs)(f.Wu,{className:"p-6 flex flex-col items-center justify-center min-h-[300px]",children:[(0,r.jsx)(R.A,{className:"h-12 w-12 animate-spin text-primary"}),(0,r.jsx)("p",{className:"mt-4 text-muted-foreground",children:(0,r.jsx)(z,{textKey:"placeholderDescription"})})]})}),e&&(0,r.jsxs)(f.Zp,{className:"animate-in fade-in-50",children:[(0,r.jsxs)(f.aR,{children:[(0,r.jsx)(f.ZB,{className:"font-headline",children:(0,r.jsx)(z,{textKey:"resultTitle"})}),(0,r.jsx)(f.BT,{children:(0,r.jsx)(z,{textKey:"resultDescription"})})]}),(0,r.jsxs)(f.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-lg font-headline",children:(0,r.jsx)(z,{textKey:"recommendedCropsLabel"})}),(0,r.jsx)("p",{className:"text-muted-foreground",children:e.crops})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-lg font-headline",children:(0,r.jsx)(z,{textKey:"reasoningLabel"})}),(0,r.jsx)("p",{className:"text-muted-foreground whitespace-pre-wrap",children:e.reasoning})]}),e.soilDataSummary&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"font-semibold text-lg font-headline flex items-center gap-2",children:[(0,r.jsx)(B.A,{className:"text-primary"}),(0,r.jsx)(z,{textKey:"dataSummaryTitle"})]}),(0,r.jsxs)("ul",{className:"text-muted-foreground text-sm list-disc pl-5 mt-2 grid grid-cols-2 gap-x-4",children:[(0,r.jsxs)("li",{children:["pH: ",e.soilDataSummary.ph]}),(0,r.jsxs)("li",{children:["Nitrogen: ",e.soilDataSummary.n]}),(0,r.jsxs)("li",{children:["Phosphorus: ",e.soilDataSummary.p]}),(0,r.jsxs)("li",{children:["Potassium: ",e.soilDataSummary.k]}),(0,r.jsxs)("li",{children:["Organic Carbon: ",e.soilDataSummary.oc]}),e.soilDataSummary.currentTemp&&(0,r.jsxs)("li",{children:["Temp: ",e.soilDataSummary.currentTemp]}),e.soilDataSummary.humidity&&(0,r.jsxs)("li",{children:["Humidity: ",e.soilDataSummary.humidity]}),e.soilDataSummary.forecast&&(0,r.jsxs)("li",{className:"col-span-2",children:["Forecast: ",e.soilDataSummary.forecast]})]})]})]})]}),!a&&!e&&(0,r.jsx)(f.Zp,{className:"border-dashed",children:(0,r.jsxs)(f.Wu,{className:"p-6 flex flex-col items-center justify-center min-h-[300px] text-center",children:[(0,r.jsx)(L.A,{className:"h-12 w-12 text-muted-foreground/50"}),(0,r.jsx)("p",{className:"mt-4 text-muted-foreground",children:(0,r.jsx)(z,{textKey:"placeholderTitle"})})]})})]})]}),(0,r.jsx)(y,{open:m,onOpenChange:g,children:(0,r.jsxs)(C,{className:"max-w-4xl h-[90vh] flex flex-col p-0",children:[(0,r.jsxs)(k,{className:"p-6 pb-4 border-b",children:[(0,r.jsxs)(P,{className:"flex items-center gap-2 font-headline",children:[(0,r.jsx)(I.A,{className:"text-primary"}),(0,r.jsx)(z,{textKey:"soilDialogTitle"})]}),(0,r.jsx)(S,{children:(0,r.jsx)(z,{textKey:"soilDialogDescription"})})]}),(0,r.jsx)("div",{className:"flex-grow p-6 overflow-auto",children:(0,r.jsxs)($.tU,{defaultValue:"table",className:"w-full h-full flex flex-col",children:[(0,r.jsxs)($.j7,{className:"grid w-full grid-cols-3",children:[(0,r.jsx)($.Xi,{value:"table",children:(0,r.jsx)(z,{textKey:"tableTab"})}),(0,r.jsx)($.Xi,{value:"maps",children:(0,r.jsx)(z,{textKey:"mapsTab"})}),(0,r.jsx)($.Xi,{value:"raw",children:(0,r.jsx)(z,{textKey:"rawTab"})})]}),(0,r.jsx)($.av,{value:"table",className:"mt-4 rounded-md border flex-grow overflow-y-auto",children:(0,r.jsx)(J,{soilData:j})}),(0,r.jsx)($.av,{value:"raw",className:"mt-4 flex-grow",children:(0,r.jsx)(V.F,{className:"h-full rounded-md border p-4 bg-muted",children:(0,r.jsx)("pre",{className:"text-sm",children:JSON.stringify(j,null,2)})})}),(0,r.jsx)($.av,{value:"maps",className:"mt-4 flex-grow",children:(0,r.jsx)("div",{className:"h-full rounded-md overflow-hidden border",children:m&&(0,r.jsx)(Y,{latitude:er??23.61,longitude:es??85.27,onMapClick:(e,t)=>{ea.setValue("latitude",parseFloat(e.toFixed(5)),{shouldValidate:!0}),ea.setValue("longitude",parseFloat(t.toFixed(5)),{shouldValidate:!0}),v({title:"Location Updated",description:"Coordinates updated from map. You can now fetch the new soil data."})},dummyLocations:H})})})]})}),(0,r.jsxs)(M,{className:"sm:justify-between gap-2 p-6 pt-4 border-t",children:[(0,r.jsx)(p.$,{variant:"secondary",asChild:!0,children:(0,r.jsxs)(O(),{href:`https://www.google.com/maps?q=${ea.getValues("latitude")},${ea.getValues("longitude")}`,target:"_blank",children:[(0,r.jsx)(F,{className:"mr-2 h-4 w-4"}),(0,r.jsx)(z,{textKey:"googleMapsButton"})]})}),(0,r.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,r.jsx)(N,{asChild:!0,children:(0,r.jsx)(p.$,{variant:"outline",children:(0,r.jsx)(z,{textKey:"cancelButton"})})}),(0,r.jsx)(p.$,{onClick:()=>g(!1),disabled:K,children:(0,r.jsx)(z,{textKey:"useDataButton"})})]})]})]})})]}):(0,r.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,r.jsx)(R.A,{className:"h-12 w-12 animate-spin text-primary"})})}},94735:e=>{"use strict";e.exports=require("events")},97494:(e,t,a)=>{"use strict";a.r(t),a.d(t,{"403f88fc77940a8f73af5d09f071cb709801ed6bcc":()=>s.f,"40660e7df1a476393418de9b0f2a8e91f02c0b69a5":()=>r.L,"40a7adf25781fd6c163d521ea784b9ad3b999c4b4b":()=>h});var r=a(24722),s=a(36580),l=a(91199);a(42087);var i=a(95427),n=a(52205),o=a(95305),d=a(68567);let c=d.z.object({prompt:d.z.string().describe("A detailed prompt describing the farmer’s location, soil conditions, preferences, and any other relevant information for crop recommendation.")}),u=d.z.object({crops:d.z.string().describe("A comma-separated list of recommended crops based on the provided prompt and soil data, prioritizing suitability, sustainability, and profitability."),reasoning:d.z.string().describe("A detailed explanation of why these crops are recommended, referencing specific soil data (pH, OC, N, P, K), weather data, and user preferences."),soilDataSummary:d.z.object({ph:d.z.string().describe("The pH value of the soil."),n:d.z.string().describe("The Nitrogen (N) content of the soil."),p:d.z.string().describe("The Phosphorus (P) content of the soil."),k:d.z.string().describe("The Potassium (K) content of the soil."),oc:d.z.string().describe("The Organic Carbon (OC) content of the soil."),currentTemp:d.z.string().optional().describe("The current temperature in Celsius."),humidity:d.z.string().optional().describe("The current relative humidity."),forecast:d.z.string().optional().describe("A brief weather forecast for the next few days.")}).optional().describe("A summary of the key soil and weather data points used for the recommendation.")});var m=a(33331);let p=i.ai.definePrompt({name:"cropRecommendationPrompt",input:{schema:c},output:{schema:u},model:n.YF.model("gemini-1.5-pro-preview"),tools:[o.Z],prompt:`You are an expert agronomist AI, specializing in crop recommendations for Indian farmers. Your goal is to provide sustainable, profitable, and practical advice.

Analyze the user's prompt, which contains details about their farm, location, soil, budget, and goals.

If the user provides latitude and longitude, you MUST use the 'getWeatherData' tool to fetch current and forecasted weather for that location. Integrate this live weather data into your reasoning.

Based on all available information (user prompt, soil data, and live weather), provide:
1.  A comma-separated list of 3-5 recommended crops.
2.  A detailed reasoning for your recommendations. Explain *why* these crops are suitable, referencing the user's soil type, rainfall, goals (e.g., cash crop, soil health), budget, and the current weather conditions (e.g., "Given the current high humidity and forecasted rain...").
3.  A summary of the key soil and weather data points you used.

Prioritize crops that are well-suited to the region and conditions. If the user has a specific goal like "soil improvement," include a nitrogen-fixing crop like a legume. If the goal is "profit," consider high-value cash crops suitable for the area.

User's Prompt:
"{{prompt}}"
`});async function h(e){try{let{output:t}=await p(e);if(!t)throw Error("The AI model did not return a valid output.");return t}catch(e){return console.error("Error during AI crop recommendation:",e),{crops:"Wheat, Maize, Mustard",reasoning:"These crops are generally well-suited for loamy soil and moderate rainfall. They have stable market demand and are profitable in many regions of India. This recommendation is based on general data as live weather services were temporarily unavailable.",soilDataSummary:{ph:"6.5-7.5",n:"120-150 kg/ha",p:"50-60 kg/ha",k:"40-50 kg/ha",oc:"0.5-0.75%"}}}}i.ai.defineFlow({name:"aiCropRecommendationFromPromptFlow",inputSchema:c,outputSchema:u},h),(0,m.D)([h]),(0,l.A)(h,"40a7adf25781fd6c163d521ea784b9ad3b999c4b4b",null)}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[447,113,658,758,765],()=>a(53739));module.exports=r})();